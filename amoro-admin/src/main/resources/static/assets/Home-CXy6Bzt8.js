import{_ as N,a as W,u as V,d as H,g as me,r as be,l as he}from"./index-C3lMfZSI.js";import{d as I,a5 as fe,W as T,X as g,a0 as $,V as v,Y as m,a3 as s,a1 as B,a6 as _,a2 as D,F as z,r as O,f as Y,k as n,a7 as K,a8 as j,c as P,D as Le,I as J,a9 as q,U as X,h as ve,y as G,m as ye,A as _e,aa as Ce,B as Se,ab as ke,ac as we,o as Te,u as Q,G as E}from"./vue-KZ6HWXOH.js";import{t as $e}from"./common.type-BplHNJCB.js";import{A as x,b as ee,c as Ie,I as Me,F as Qe,M as ae,d as De,e as Oe,f as Be,g as te,h as oe,i as Ne,j as Fe,B as Ae,Q as Ee,T as Pe,L as Re,D as Ue,k as Ve}from"./antd-CPSoav-4.js";import{u as ne}from"./usePlaceholder-DDdrf-Dx.js";import{g as ze,a as Ke,b as Ze}from"./table.service-CoshcICY.js";import"./pinia-BCc-Ghqu.js";import"./dayjs-DZyl58SH.js";import"./monaco-DM8nFf3H.js";import"./sql-BwF-LpWF.js";import"./axios-B4uVmeYG.js";const He=I({components:{RecycleScroller:fe},props:{items:{type:Array,default:()=>[]},activeItem:{type:String,default:""},itemSize:{type:Number,default:40},iconName:{type:String,default:"tableOutlined"},loading:{type:Boolean,default:!1}},emits:["mouseEnter","handleClickTable"],setup(e,{emit:t}){const h=p=>{t("mouseEnter",p.label)},i=p=>{t("handleClickTable",p)};return{simpleImage:x.PRESENTED_IMAGE_SIMPLE,tableTypeIconMap:$e,handleMouseEnter:h,handleClickTable:i}}}),qe=["onMouseenter","onClick"],Ge=["title"];function We(e,t,h,i,p,a){const d=W,c=T("RecycleScroller"),b=x;return g(),$(z,null,[e.items.length&&!e.loading?(g(),v(c,{key:0,class:"scroller",items:e.items,"item-size":40,"key-field":"id"},{default:m(({item:u})=>[s("div",{class:B([{active:e.activeItem===u.label,"hive-table":u.type==="HIVE"},"desc"]),onMouseenter:L=>e.handleMouseEnter(u),onClick:L=>e.handleClickTable(u)},[e.iconName==="database"?(g(),v(d,{key:0,"icon-class":"database",class:"table-icon g-mr-8"})):(g(),v(d,{key:1,"icon-class":e.tableTypeIconMap[u.type],class:"table-icon g-mr-8"},null,8,["icon-class"])),s("p",{title:u.label,class:"name g-text-nowrap"},_(u.label),9,Ge)],42,qe)]),_:1},8,["items"])):D("",!0),!e.items.length&&!e.loading?(g(),v(b,{key:1,class:"theme-dark",image:e.simpleImage},null,8,["image"])):D("",!0)],64)}const le=N(He,[["render",We],["__scopeId","data-v-eb474c0a"]]),Ye=I({props:{visible:{type:Boolean,default:!1},catalogOptions:{type:Array,default:()=>[]}},emits:["cancel"],setup(e,{emit:t}){const h=O(ne()),i=Y(),p=O({catalog:void 0,dbname:""});return{formRef:i,formState:p,placeholder:h,handleOk:()=>{i.value.validateFields().then(()=>{i.value.resetFields(),t("cancel")}).catch(c=>{console.log("Validate Failed:",c)})},handleCancel:()=>{i.value.resetFields(),t("cancel")}}}});function je(e,t,h,i,p,a){const d=ee,c=Ie,b=Me,u=Qe,L=ae;return g(),v(L,{open:e.$props.visible,"onUpdate:open":t[2]||(t[2]=r=>e.$props.visible=r),title:e.$t("createDatabase"),onOk:e.handleOk,onCancel:e.handleCancel},{default:m(()=>[n(u,{ref:"formRef",model:e.formState,class:"label-120"},{default:m(()=>[n(c,{name:"catalog",label:e.$t("catalog"),rules:[{required:!0,message:`${e.placeholder.selectClPh}`}]},{default:m(()=>[n(d,{value:e.formState.catalog,"onUpdate:value":t[0]||(t[0]=r=>e.formState.catalog=r),options:e.catalogOptions,placeholder:e.placeholder.selectClPh},null,8,["value","options","placeholder"])]),_:1},8,["label","rules"]),n(c,{name:"dbname",label:e.$t("databaseName"),rules:[{required:!0,message:`${e.placeholder.inputDBPh}`}]},{default:m(()=>[n(b,{value:e.formState.dbname,"onUpdate:value":t[1]||(t[1]=r=>e.formState.dbname=r),placeholder:e.placeholder.inputDBPh},null,8,["value","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["open","title","onOk","onCancel"])}const Je=N(Ye,[["render",je]]),Xe=I({name:"TablesMenu",components:{CreateDBModal:Je,VirtualRecycleScroller:le},emits:["goCreatePage"],setup(e,{emit:t}){const h=K(),i=j(),p=V(),a=O({catalogLoading:!1,DBSearchInput:"",tableSearchInput:"",curCatalog:"",database:"",tableName:"",type:"",catalogOptions:[],showCreateDBModal:!1,loading:!1,tableLoading:!1,databaseList:[],tableList:[],allDatabaseListLoaded:[],allTableListLoaded:[]}),d="easylake-menu-catalog-db-table",c=JSON.parse(localStorage.getItem(d)||"{}"),b=P(()=>a.allDatabaseListLoaded?a.allDatabaseListLoaded.filter(l=>l.label.includes(a.DBSearchInput)):[]),u=P(()=>a.allTableListLoaded?a.allTableListLoaded.filter(l=>l.label.includes(a.tableSearchInput)):[]),L=O(ne());function r(l){l==="table"?o():k()}function S(l){l==="table"?(a.tableSearchInput="",o()):(a.DBSearchInput="",k())}function o(){H(()=>{U()})()}function k(){H(()=>{R(!0)})()}function f(l){a.database!==l.id&&(a.database=l.id,a.tableName="",a.allTableListLoaded.length=0,U())}function w(l){return l.parentNode}function se(){}function ie(l){a.curCatalog=l,a.databaseList.length=0,a.tableList.length=0,a.allDatabaseListLoaded.length=0,a.allTableListLoaded.length=0,R()}function re(){a.showCreateDBModal=!0}function ce(){a.showCreateDBModal=!1}function de(){t("goCreatePage")}function ue(l){a.tableName=l.label,a.type=l.type,localStorage.setItem(d,JSON.stringify({catalog:a.curCatalog,database:a.database,tableName:l.label})),p.updateTablesMenu(!1);const C={path:l.type==="HIVE"?"/hive-tables":"/tables",query:{catalog:a.curCatalog,db:a.database,table:a.tableName,type:a.type}};if(i.path.includes("tables")){h.replace(C);return}h.push(C)}function pe(){a.catalogLoading=!0,ze().then(l=>{var y;if(l){if(a.catalogOptions=(l||[]).map(C=>({value:C.catalogName,label:C.catalogName})),a.catalogOptions.length){const C=a.catalogOptions.findIndex(F=>F.value===c.catalog),M=i.query;a.curCatalog=C>-1?c.catalog:((y=M==null?void 0:M.catalog)==null?void 0:y.toString())||a.catalogOptions[0].value}R()}}).finally(()=>{a.catalogLoading=!1})}function R(l=!1){if(a.curCatalog){if(a.allDatabaseListLoaded.length){a.databaseList=b.value;return}a.loading=!0,Ke({catalog:a.curCatalog,keywords:a.DBSearchInput}).then(y=>{var C,M,F,Z;if(a.databaseList=(y||[]).map(A=>({id:A,label:A})),!l&&(a.allDatabaseListLoaded=[...a.databaseList],a.databaseList.length)){const A=a.databaseList.findIndex(ge=>ge.id===c.database);a.database=A>-1?c.database:a.curCatalog===((M=(C=i.query)==null?void 0:C.catalog)==null?void 0:M.toString())?((Z=(F=i.query)==null?void 0:F.db)==null?void 0:Z.toString())||a.databaseList[0].id||"":a.databaseList[0].id||"",U()}}).finally(()=>{a.loading=!1})}}function U(){if(!(!a.curCatalog||!a.database)){if(a.allTableListLoaded.length){a.tableList=u.value;return}a.tableLoading=!0,a.tableList.length=0,Ze({catalog:a.curCatalog,db:a.database,keywords:a.tableSearchInput}).then(l=>{a.tableList=(l||[]).map(y=>({id:y.name,label:y.name,type:y.type})),a.tableSearchInput===""&&(a.allTableListLoaded=[...a.tableList])}).finally(()=>{a.tableLoading=!1})}}return Le(()=>{const{database:l,tableName:y}=c;a.database=l,a.tableName=y,pe()}),{...J(a),placeholder:L,handleClickDb:f,getPopupContainer:w,clickDatabase:se,catalogChange:ie,addDatabase:re,cancel:ce,createTable:de,handleClickTable:ue,handleSearch:r,clearSearch:S}}}),xe={class:"tables-menu"},ea={class:"select-catalog g-flex-ac"},aa={class:"label"},ta={class:"tables-wrap g-flex"},oa={class:"database-list"},na={class:"list-wrap"},la={class:"add g-flex-jsb"},sa={class:"label"},ia={class:"filter-wrap"},ra={class:"table-list"},ca={class:"list-wrap"},da={class:"add g-flex-jsb"},ua={class:"label"},pa={class:"filter-wrap"};function ga(e,t,h,i,p,a){const d=ee,c=De,b=Oe,u=Be,L=T("u-loading"),r=le,S=T("CreateDBModal");return g(),$(z,null,[s("div",xe,[s("div",ea,[s("span",aa,_(e.$t("catalog")),1),n(d,{value:e.curCatalog,"onUpdate:value":t[0]||(t[0]=o=>e.curCatalog=o),options:e.catalogOptions,loading:e.catalogLoading,"get-popup-container":e.getPopupContainer,class:"theme-dark",onChange:e.catalogChange},null,8,["value","options","loading","get-popup-container","onChange"])]),s("div",ta,[s("div",oa,[s("div",na,[s("div",la,[s("span",sa,_(e.$t("database",2)),1)]),s("div",ia,[n(u,{value:e.DBSearchInput,"onUpdate:value":t[2]||(t[2]=o=>e.DBSearchInput=o),placeholder:e.placeholder.filterDBPh,class:"theme-dark",onChange:t[3]||(t[3]=o=>e.handleSearch("db"))},q({prefix:m(()=>[n(c)]),_:2},[e.DBSearchInput?{name:"suffix",fn:m(()=>[n(b,{class:"input-clear-icon",onClick:t[1]||(t[1]=o=>e.clearSearch("db"))})]),key:"0"}:void 0]),1032,["value","placeholder"])]),e.loading?(g(),v(L,{key:0})):D("",!0),n(r,{loading:e.loading,items:e.databaseList,"active-item":e.database,"item-size":40,"icon-name":"database",onHandleClickTable:e.handleClickDb},null,8,["loading","items","active-item","onHandleClickTable"])])]),s("div",ra,[s("div",ca,[s("div",da,[s("span",ua,_(e.$t("table",2)),1)]),s("div",pa,[n(u,{value:e.tableSearchInput,"onUpdate:value":t[5]||(t[5]=o=>e.tableSearchInput=o),placeholder:e.placeholder.filterTablePh,class:"theme-dark",onChange:t[6]||(t[6]=o=>e.handleSearch("table"))},q({prefix:m(()=>[n(c)]),_:2},[e.tableSearchInput?{name:"suffix",fn:m(()=>[n(b,{class:"input-clear-icon",onClick:t[4]||(t[4]=o=>e.clearSearch("table"))})]),key:"0"}:void 0]),1032,["value","placeholder"])]),e.tableLoading?(g(),v(L,{key:0})):D("",!0),n(r,{loading:e.tableLoading,items:e.tableList,"active-item":e.tableName,"item-size":40,"icon-name":"tableOutlined",onHandleClickTable:e.handleClickTable},null,8,["loading","items","active-item","onHandleClickTable"])])])])]),n(S,{visible:e.showCreateDBModal,"catalog-options":e.catalogOptions,onCancel:e.cancel},null,8,["visible","catalog-options","onCancel"])],64)}const ma=N(Xe,[["render",ga],["__scopeId","data-v-1e8b9189"]]),ba=I({name:"Sidebar",components:{TableMenu:ma},setup(){const{t:e}=X(),t=K(),h=j(),i=V(),p=O({collapsed:!1,selectedKeys:[]}),a=P(()=>!!me("token")),d=Y(0),c=P(()=>{const f=[{key:"tables",title:e("tables"),icon:"TableOutlined"}],w=[{key:"tables",title:e("tables"),icon:"tables"},{key:"catalogs",title:e("catalogs"),icon:"catalogs"},{key:"optimizing",title:e("optimizing"),icon:"optimizers"},{key:"terminal",title:e("terminal"),icon:"terminal"},{key:"settings",title:e("settings"),icon:"settings"}];return a.value?f:w}),b=()=>{const f=h.path.split("/");if(h.path){const w=[f[1]];p.selectedKeys=w.includes("hive-tables")?["tables"]:w}};ve(()=>{b()});const u=()=>{p.collapsed=!p.collapsed,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},300)},L=f=>{if(f.key==="tables"){G(()=>{b()});return}t.replace({path:`/${f.key}`}),G(()=>{b()})},r=f=>{o(f.key==="tables")},S=()=>{o(!1),t.push({path:"/tables/create"})};function o(f=!1){if(a.value)return;d.value&&clearTimeout(d.value);const w=f?0:200;d.value=setTimeout(()=>{i.updateTablesMenu(f)},w)}const k=()=>{t.push({path:"/introduce"})};return{...J(p),hasToken:a,menuList:c,toggleCollapsed:u,navClick:L,mouseenter:r,store:i,toggleTablesMenu:o,goCreatePage:S,viewIntroduce:k}}}),ha="data:image/svg+xml,%3c!--%20Licensed%20to%20the%20Apache%20Software%20Foundation%20(ASF)%20under%20one%20or%20more%20contributor%20license%20agreements.%20See%20the%20NOTICE%20file%20distributed%20with%20this%20work%20for%20additional%20information%20regarding%20copyright%20ownership.%20The%20ASF%20licenses%20this%20file%20to%20you%20under%20the%20Apache%20License,%20Version%202.0%20(the%20'License');%20you%20may%20not%20use%20this%20file%20except%20in%20compliance%20with%20the%20License.%20You%20may%20obtain%20a%20copy%20of%20the%20License%20at%20http://www.apache.org/licenses/LICENSE-2.0%20Unless%20required%20by%20applicable%20law%20or%20agreed%20to%20in%20writing,%20software%20distributed%20under%20the%20License%20is%20distributed%20on%20an%20'AS%20IS'%20BASIS,%20WITHOUT%20WARRANTIES%20OR%20CONDITIONS%20OF%20ANY%20KIND,%20either%20express%20or%20implied.%20See%20the%20License%20for%20the%20specific%20language%20governing%20permissions%20and%20limitations%20under%20the%20License.%20/--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='30.789306640625'%20height='28.4443359375'%20viewBox='0%200%2030.789306640625%2028.4443359375'%3e%3cg%20style='mix-blend-mode:passthrough'%3e%3cg%20style='mix-blend-mode:passthrough'%3e%3cpath%20d='M9.222345351562499,16.597559078125Q10.5910653515625,16.055694078125,12.0159353515625,15.808411078125Q12.0654353515625,15.799832078125,12.1149353515625,15.791610078125Q13.2631353515625,15.600830078125,14.4478353515625,15.600830078125Q17.155635351562502,15.600830078125,19.6733353515625,16.597559078125Q19.8444353515625,16.665280078125,20.0132353515625,16.737220078125Q20.0859353515625,16.768170078125,20.1582353515625,16.799900078125L20.1592353515625,16.798270078125Q20.3138353515625,16.865760078125,20.4717353515625,16.928270078125Q22.1502353515625,17.592760078125,23.9554353515625,17.592760078125Q25.2066353515625,17.592760078125,26.3970353515625,17.273520078125L28.5421353515625,21.563830078125Q27.4813353515625,21.927340078125,26.3873353515625,22.117200078125002Q25.1911353515625,22.324780078125002,23.9554353515625,22.324780078125002Q21.2476353515625,22.324780078125002,18.7299353515625,21.328050078125Q18.4256353515625,21.207570078125002,18.1282353515625,21.073770078125L18.1267353515625,21.077080078125Q18.0298353515625,21.036250078125,17.9315353515625,20.997330078125Q16.253035351562502,20.332850078125,14.4478353515625,20.332850078125Q12.6426353515625,20.332850078125,10.9641753515625,20.997330078125C9.1417253515625,21.718820078125,8.379625351562499,22.583330078125,7.8580153515625,23.148720078125Q7.3364053515625,23.714120078125,5.9892453515625,26.398830078125002L1.4537746732625,24.079880078125Q1.9242563515625,23.009960078125,2.5658053515625,22.028670078125Q3.3702353515625,20.798240078124998,4.4097153515625,19.758760078125Q5.4491953515625,18.719280078125,6.6796153515625,17.914850078125Q7.8842153515625,17.127320078125,9.222345351562499,16.597559078125Z'%20fill-rule='evenodd'%20fill='%23FFFFFF'%20fill-opacity='1'/%3e%3c/g%3e%3cg%20style='mix-blend-mode:passthrough'%3e%3cpath%20d='M1.89522,28.4444L4.25308,28.4444C4.70117,28.4444,5.1108,28.1913,5.31119,27.7905L14.6449,9.12308C14.8226,8.89236,15.0988,8.75423,15.3947,8.75423C15.6905,8.75423,15.9667,8.89236,16.1444,9.12308L17.9575,12.7493C19.342,14.544,21.5139,15.7,23.9558,15.7C24.4868,15.7,25.005,15.6453,25.5052,15.5413L18.7662,2.06344L18.7659,2.06344C18.1189,0.797012,16.8168,0,15.3947,0C13.9725,0,12.6704,0.797012,12.0235,2.06344L12.0231,2.06344L0.20224,25.7051C-0.427025,26.9637,0.488139,28.4444,1.89522,28.4444ZM24.5061,24.081Q24.0551,24.081,23.6095,24.0534L25.805,28.4444L28.894,28.4444C30.3011,28.4444,31.2163,26.9637,30.587,25.7051L29.3492,23.2295Q27.0088,24.081,24.5061,24.081Z'%20fill-rule='evenodd'%20fill='%232A72FF'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",fa="data:image/svg+xml,%3c!--%20Licensed%20to%20the%20Apache%20Software%20Foundation%20(ASF)%20under%20one%20or%20more%20contributor%20license%20agreements.%20See%20the%20NOTICE%20file%20distributed%20with%20this%20work%20for%20additional%20information%20regarding%20copyright%20ownership.%20The%20ASF%20licenses%20this%20file%20to%20you%20under%20the%20Apache%20License,%20Version%202.0%20(the%20'License');%20you%20may%20not%20use%20this%20file%20except%20in%20compliance%20with%20the%20License.%20You%20may%20obtain%20a%20copy%20of%20the%20License%20at%20http://www.apache.org/licenses/LICENSE-2.0%20Unless%20required%20by%20applicable%20law%20or%20agreed%20to%20in%20writing,%20software%20distributed%20under%20the%20License%20is%20distributed%20on%20an%20'AS%20IS'%20BASIS,%20WITHOUT%20WARRANTIES%20OR%20CONDITIONS%20OF%20ANY%20KIND,%20either%20express%20or%20implied.%20See%20the%20License%20for%20the%20specific%20language%20governing%20permissions%20and%20limitations%20under%20the%20License.%20/--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='224.99998474121094'%20height='50'%20viewBox='0%200%20224.99998474121094%2050'%3e%3cg%20style='mix-blend-mode:passthrough'%3e%3cpath%20d='M21.2505,0L29.0705,31.3649L43.9035,0L58.7942,0L53.1262,50L40.349,50L43.9035,23.6673L32.6058,46.6452L21.2505,46.6452L15.5632,24.5634L12.758,50L0,50L5.66807,3.35478L2.80521,0L21.2505,0ZM109.961,0Q110.979,0,111.863,0.436581Q112.766,0.873162,113.381,1.67739Q114.015,2.45864,114.226,3.5386Q114.457,4.59559,114.168,5.92831L109.211,50L69.5155,50Q68.4972,50,67.5942,49.5634Q66.7103,49.1039,66.0763,48.3226Q65.4614,47.5184,65.2309,46.4154Q65.0195,45.3125,65.3077,44.0717L70.2649,0L109.961,0ZM83.0228,8.50184L79.4875,41.4982L95.7808,41.4982L99.9886,8.50184L83.0228,8.50184ZM169.177,0L166.372,24.954Q166.372,26.1719,165.892,27.2978Q165.412,28.4007,164.605,29.205Q163.798,29.9862,162.799,30.4458Q161.799,30.8823,160.685,30.8823L151.462,30.8823L166.372,50L150.809,50L136.629,30.8823L134.497,50L120.336,50L125.274,3.35478L123.141,0L169.177,0ZM138.781,8.50184L137.302,22.3805L152.942,22.3805L154.344,8.50184L138.781,8.50184ZM220.632,0Q221.65,0,222.534,0.436581Q223.437,0.873162,224.052,1.67739Q224.686,2.45864,224.898,3.5386Q225.128,4.59559,224.84,5.92831L219.883,50L180.187,50Q179.169,50,178.266,49.5634Q177.382,49.1039,176.748,48.3226Q176.133,47.5184,175.902,46.4154Q175.691,45.3125,175.979,44.0717L180.936,0L220.632,0ZM193.694,8.50184L190.159,41.4982L206.452,41.4982L210.66,8.50184L193.694,8.50184Z'%20fill='%23FFFFFF'%20fill-opacity='1'/%3e%3c/g%3e%3c/svg%3e",La=e=>(ke("data-v-a2f81421"),e=e(),we(),e),va=La(()=>s("img",{src:ha,class:"logo-img",alt:""},null,-1)),ya={src:fa,class:"arctic-name",alt:""};function _a(e,t,h,i,p,a){const d=W,c=te,b=oe,u=Ne,L=Fe,r=Ae,S=T("TableMenu");return g(),$("div",{class:B([{"side-bar-collapsed":e.collapsed},"side-bar"])},[s("div",{class:B([{"logo-collapsed":e.collapsed},"logo g-flex-ae"]),onMouseenter:t[0]||(t[0]=o=>e.toggleTablesMenu(!1)),onClick:t[1]||(t[1]=(...o)=>e.viewIntroduce&&e.viewIntroduce(...o))},[va,ye(s("img",ya,null,512),[[_e,!e.collapsed]])],34),n(b,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":t[2]||(t[2]=o=>e.selectedKeys=o),mode:"inline",theme:"dark","inline-collapsed":e.collapsed},{default:m(()=>[(g(!0),$(z,null,Ce(e.menuList,o=>(g(),v(c,{key:o.key,class:B({"active-color":e.store.isShowTablesMenu&&o.key==="tables","table-item-tab":o.key==="tables"}),onClick:k=>e.navClick(o),onMouseenter:k=>e.mouseenter(o)},{icon:m(()=>[n(d,{"icon-class":o.icon,class:"svg-icon"},null,8,["icon-class"])]),default:m(()=>[s("span",null,_(o.title),1)]),_:2},1032,["class","onClick","onMouseenter"]))),128))]),_:1},8,["selectedKeys","inline-collapsed"]),n(r,{type:"link",class:"toggle-btn",onClick:e.toggleCollapsed},{default:m(()=>[e.collapsed?(g(),v(u,{key:0})):(g(),v(L,{key:1}))]),_:1},8,["onClick"]),e.store.isShowTablesMenu&&!e.hasToken?(g(),$("div",{key:0,class:B([{"collapsed-sub-menu":e.collapsed},"tables-menu-wrap"]),onClick:t[3]||(t[3]=Se(o=>e.toggleTablesMenu(!1),["self"])),onMouseleave:t[4]||(t[4]=o=>e.toggleTablesMenu(!1)),onMouseenter:t[5]||(t[5]=o=>e.toggleTablesMenu(!0))},[n(S,{onGoCreatePage:e.goCreatePage},null,8,["onGoCreatePage"])],34)):D("",!0)],2)}const Ca=N(ba,[["render",_a],["__scopeId","data-v-a2f81421"]]);function Sa(){return be.get("ams/v1/versionInfo")}const ka={class:"custom-top-bar"},wa={class:"version-info"},Ta={class:"g-mr-8"},$a={class:"g-mr-8"},Ia=I({__name:"Topbar",setup(e){const t=O({version:"",commitTime:""}),{t:h,locale:i}=X(),p=K(),a=V();async function d(){const r=await Sa();r&&(t.version=r.version,t.commitTime=r.commitTime)}function c(){p.push({path:"/login"})}async function b(){ae.confirm({title:h("logoutModalTitle"),onOk:async()=>{try{await he.logout()}catch{}finally{a.updateUserInfo({userName:""}),c()}}})}function u(){window.open("https://amoro.apache.org/docs/latest/")}function L(){i.value==="zh"?i.value="en":i.value="zh"}return Te(()=>{d()}),(r,S)=>{const o=te,k=oe,f=Ve;return g(),$("div",ka,[s("div",wa,[s("span",Ta,_(`${r.$t("version")}:  ${t.version}`),1),s("span",$a,_(`${r.$t("commitTime")}:  ${t.commitTime}`),1)]),n(f,null,{overlay:m(()=>[n(k,null,{default:m(()=>[n(o,{key:"userGuide",onClick:u},{default:m(()=>[n(Q(Ee)),E(" "+_(r.$t("userGuide")),1)]),_:1}),n(o,{key:"locale",onClick:L},{default:m(()=>[n(Q(Pe)),E(" "+_(Q(i)==="zh"?"切换至英文":"Switch To Chinese"),1)]),_:1}),n(o,{key:"logout",onClick:b},{default:m(()=>[n(Q(Re)),E(" "+_(r.$t("logout")),1)]),_:1})]),_:1})]),default:m(()=>[s("span",null,[E(_(Q(a).userInfo.userName)+" ",1),n(Q(Ue))])]),_:1})])}}}),Ma=I({name:"Layout",components:{SideBar:Ca,TopBar:Ia},props:{menus:{type:Array,default:()=>[]},showTopBar:{type:Boolean,default:!0}}}),Qa={class:"layout"},Da={class:"right-content"},Oa={class:"content"};function Ba(e,t,h,i,p,a){const d=T("SideBar"),c=T("TopBar"),b=T("router-view");return g(),$("div",Qa,[n(d),s("div",Da,[e.showTopBar?(g(),v(c,{key:0})):D("",!0),s("div",Oa,[n(b)])])])}const Na=N(Ma,[["render",Ba],["__scopeId","data-v-e6b18a60"]]),qa=I({__name:"Home",setup(e){return(t,h)=>(g(),v(Na))}});export{qa as default};
