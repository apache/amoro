
/*
  * Licensed to the Apache Software Foundation (ASF) under one
  * or more contributor license agreements.  See the NOTICE file
  * distributed with this work for additional information
  * regarding copyright ownership.  The ASF licenses this file
  * to you under the Apache License, Version 2.0 (the
  * "License"); you may not use this file except in compliance
  * with the License.  You may obtain a copy of the License at
  *
  *     http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */

import{d as N,U as O,a7 as P,a8 as T,f as S,r as w,w as U,W as F,X as o,a0 as v,a3 as s,k as y,Y as l,V as c,a2 as C,F as K,aa as $,a6 as u}from"./vue-KZ6HWXOH.js";import{b as R,e as D}from"./setting.services-Ded0qQhU.js";import{v as G,p as J,u as L,J as M,K as W}from"./antd-CPSoav-4.js";import{_ as X}from"./index-C3lMfZSI.js";import"./dayjs-DZyl58SH.js";import"./pinia-BCc-Ghqu.js";import"./monaco-DM8nFf3H.js";import"./sql-BwF-LpWF.js";import"./axios-B4uVmeYG.js";const Y={class:"setting-wrap"},H={class:"system-setting"},Q={class:"container-setting"},Z={class:"content"},ee={class:"item"},te={class:"left"},ae={class:"right"},se={key:0,class:"item"},ne={class:"left"},oe={class:"right"},re={class:"g-mb-12 g-mt-12"},ie={class:"g-mb-12 g-mt-12"},le=N({__name:"index",setup(ce){const{t:d}=O(),q=P(),A=T(),p=S(!1),f=w([]),h=w([]),k=w([{title:d("key"),dataIndex:"key",width:340,ellipsis:!0},{title:d("value"),dataIndex:"value"}]),g=S([]),i={system:{title:d("systemSetting"),key:"system"},container:{title:d("containerSetting"),key:"container"}},m=S(i.system.key);U(()=>A,t=>{var e;m.value=((e=t.query)==null?void 0:e.tab)||i.system.key,I(m.value)},{immediate:!0});async function x(){try{p.value=!0;const t=await R();if(!t)return;f.length=0,Object.keys(t).forEach(e=>{f.push({key:e,value:t[e]})})}finally{p.value=!1}}async function B(){try{p.value=!0;const t=await D();g.value=[],h.length=0,(t||[]).forEach((e,_)=>{e.propertiesArray=[],g.value.push(e.name),h.push(e),Object.keys(e.properties||{}).forEach(n=>{var r;(r=h[_].propertiesArray)==null||r.push({key:n,value:e.properties[n]})}),(e.optimizeGroup||[]).forEach(n=>{n.innerPropertiesArray=[],Object.keys(n.properties||{}).forEach(r=>{n.innerPropertiesArray.push({key:r,value:n.properties[r]})})})})}finally{p.value=!1}}function I(t){const e={...A.query};e.tab=t,q.replace({query:{...e}}),V()}function V(){m.value===i.system.key?x():B()}return(t,e)=>{const _=J,n=L,r=M,E=W,j=G,z=F("u-loading");return o(),v(K,null,[s("div",Y,[y(j,{activeKey:m.value,"onUpdate:activeKey":e[1]||(e[1]=a=>m.value=a),onChange:I},{default:l(()=>[(o(),c(n,{key:i.system.key,tab:i.system.title},{default:l(()=>[s("div",H,[f.length?(o(),c(_,{key:0,"row-key":"key",columns:k,"data-source":f,pagination:!1},null,8,["columns","data-source"])):C("",!0)])]),_:1},8,["tab"])),(o(),c(n,{key:i.container.key,tab:i.container.title},{default:l(()=>[s("div",Q,[y(E,{activeKey:g.value,"onUpdate:activeKey":e[0]||(e[0]=a=>g.value=a)},{default:l(()=>[(o(!0),v(K,null,$(h,a=>(o(),c(r,{key:a.name,header:a.name},{default:l(()=>[s("ul",Z,[s("li",ee,[s("h3",te,u(t.$t("name")),1),s("span",ae,u(a.name),1)]),a.classpath?(o(),v("li",se,[s("h3",ne,u(t.$t("implementation")),1),s("span",oe,u(a.classpath),1)])):C("",!0)]),s("h3",re,u(t.$t("properties")),1),y(_,{"row-key":"key",columns:k,"data-source":a.propertiesArray,pagination:!1},null,8,["columns","data-source"]),s("h3",ie,u(t.$t("optimizerGroups")),1),y(E,null,{default:l(()=>[(o(!0),v(K,null,$(a.optimizeGroup,b=>(o(),c(r,{key:b.name,header:b.name},{default:l(()=>[y(_,{"row-key":"name",columns:k,"data-source":b.innerPropertiesArray,pagination:!1},null,8,["columns","data-source"])]),_:2},1032,["header"]))),128))]),_:2},1024)]),_:2},1032,["header"]))),128))]),_:1},8,["activeKey"])])]),_:1},8,["tab"]))]),_:1},8,["activeKey"])]),p.value?(o(),c(z,{key:0})):C("",!0)],64)}}}),ve=X(le,[["__scopeId","data-v-41b49416"]]);export{ve as default};
